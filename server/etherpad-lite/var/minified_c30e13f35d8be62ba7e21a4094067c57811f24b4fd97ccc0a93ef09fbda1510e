window.html10n=function(window,document,undefined){(function(){const r=function(){},s=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],o=window.console=window.console||{};for(let e=0;e<s.length;++e)o[s[e]]||(o[s[e]]=r)})(),Array.prototype.forEach||(Array.prototype.forEach=function(r,s){let o=0,e=this.length;for(;o<e;++o)o in this&&r.call(s,this[o],o,this)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(r){"use strict";if(this==null)throw new TypeError;const s=Object(this),o=s.length>>>0;if(o===0)return-1;let e=0;if(arguments.length>1&&(e=Number(arguments[1]),e!=e?e=0:e!=0&&e!=1/0&&e!=-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e)))),e>=o)return-1;for(var u=e>=0?e:Math.max(o-Math.abs(e),0);u<o;u++)if(u in s&&s[u]===r)return u;return-1});const MicroEvent=function(){};MicroEvent.prototype={bind:function(r,s){this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(s)},unbind:function(r,s){this._events=this._events||{},r in this._events&&this._events[r].splice(this._events[r].indexOf(s),1)},trigger:function(r){if(this._events=this._events||{},r in this._events)for(var s=0;s<this._events[r].length;s++)this._events[r][s].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(r){var s=["bind","unbind","trigger"];if(r)for(var o=0;o<s.length;o++)r[s[o]]=MicroEvent.prototype[s[o]]};function Loader(r){this.resources=r,this.cache={},this.langs={}}Loader.prototype.load=function(r,s){if(this.langs[r])return s();if(this.resources.length>0)for(var o=0,e=0,u=this.resources.length;e<u;e++)this.fetch(this.resources[e],r,function(f){o++,f&&console.warn(f),!(o<u)&&s&&s()})},Loader.prototype.fetch=function(r,s,o){var e=this;if(this.cache[r]){this.parse(s,r,this.cache[r],o);return}var u=new XMLHttpRequest;u.open("GET",r,!0),u.overrideMimeType&&u.overrideMimeType("application/json; charset=utf-8"),u.onreadystatechange=function(){if(u.readyState==4)if(u.status==200||u.status===0){var f=JSON.parse(u.responseText);e.cache[r]=f,e.parse(s,r,f,o)}else o(new Error("Failed to load "+r))},u.send(null)},Loader.prototype.parse=function(r,s,o,e){if(typeof o!="object"){e(new Error("A file couldn't be parsed as json."));return}function u(l){const h=l.toLowerCase();return{"zh-cn":"zh-hans-cn","zh-hk":"zh-hant-hk","zh-mo":"zh-hant-mo","zh-my":"zh-hans-my","zh-sg":"zh-hans-sg","zh-tw":"zh-hant-tw"}[h]??h}function f(l){const h=l.toLowerCase();return{"sr-cyrl":"sr-ec","sr-latn":"sr-el","zh-hant-hk":"zh-hk"}[h]??h}let t=u(r),a=f(t);if(!o[a]){const l="Couldn't find translations for "+r+"(lowercase BCP 47 lang tag "+t+", JSON lang code "+a+")";for(;!o[a]&&t.lastIndexOf("-")>-1;)t=t.substring(0,t.lastIndexOf("-")),a=f(t);if(!o[a]){let h;for(h in o)if(t!=h&&h.indexOf(r+"-")===0&&o[h]){t=h,a=f(t);break}if(t!=h)return e(new Error(l))}}if(r=a,typeof o[r]=="string"){let l=o[r];o[r].indexOf("http")!=0&&o[r].indexOf("/")!=0&&(l=s+"/../"+o[r]),this.fetch(l,r,e);return}if(typeof o[r]!="object"){e(new Error("Translations should be specified as JSON objects!"));return}this.langs[r]=o[r],e()};const html10n={language:null};MicroEvent.mixin(html10n),html10n.macros={},html10n.rtl=["ar","dv","fa","ha","he","ks","ku","ps","ur","yi"];function getPluralRules(r){var s={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function o(t,a){return a.indexOf(t)!==-1}function e(t,a,l){return a<=t&&t<=l}var u={0:function(t){return"other"},1:function(t){return e(t%100,3,10)?"few":t===0?"zero":e(t%100,11,99)?"many":t==2?"two":t==1?"one":"other"},2:function(t){return t!==0&&t%10===0?"many":t==2?"two":t==1?"one":"other"},3:function(t){return t==1?"one":"other"},4:function(t){return e(t,0,1)?"one":"other"},5:function(t){return e(t,0,2)&&t!=2?"one":"other"},6:function(t){return t===0?"zero":t%10==1&&t%100!=11?"one":"other"},7:function(t){return t==2?"two":t==1?"one":"other"},8:function(t){return e(t,3,6)?"few":e(t,7,10)?"many":t==2?"two":t==1?"one":"other"},9:function(t){return t===0||t!=1&&e(t%100,1,19)?"few":t==1?"one":"other"},10:function(t){return e(t%10,2,9)&&!e(t%100,11,19)?"few":t%10==1&&!e(t%100,11,19)?"one":"other"},11:function(t){return e(t%10,2,4)&&!e(t%100,12,14)?"few":t%10===0||e(t%10,5,9)||e(t%100,11,14)?"many":t%10==1&&t%100!=11?"one":"other"},12:function(t){return e(t,2,4)?"few":t==1?"one":"other"},13:function(t){return e(t%10,2,4)&&!e(t%100,12,14)?"few":t!=1&&e(t%10,0,1)||e(t%10,5,9)||e(t%100,12,14)?"many":t==1?"one":"other"},14:function(t){return e(t%100,3,4)?"few":t%100==2?"two":t%100==1?"one":"other"},15:function(t){return t===0||e(t%100,2,10)?"few":e(t%100,11,19)?"many":t==1?"one":"other"},16:function(t){return t%10==1&&t!=11?"one":"other"},17:function(t){return t==3?"few":t===0?"zero":t==6?"many":t==2?"two":t==1?"one":"other"},18:function(t){return t===0?"zero":e(t,0,2)&&t!==0&&t!=2?"one":"other"},19:function(t){return e(t,2,10)?"few":e(t,0,1)?"one":"other"},20:function(t){return(e(t%10,3,4)||t%10==9)&&!(e(t%100,10,19)||e(t%100,70,79)||e(t%100,90,99))?"few":t%1e6===0&&t!==0?"many":t%10==2&&!o(t%100,[12,72,92])?"two":t%10==1&&!o(t%100,[11,71,91])?"one":"other"},21:function(t){return t===0?"zero":t==1?"one":"other"},22:function(t){return e(t,0,1)||e(t,11,99)?"one":"other"},23:function(t){return e(t%10,1,2)||t%20===0?"one":"other"},24:function(t){return e(t,3,10)||e(t,13,19)?"few":o(t,[2,12])?"two":o(t,[1,11])?"one":"other"}},f=s[r.replace(/-.*$/,"")];return f in u?u[f]:(console.warn("plural form unknown for ["+r+"]"),function(){return"other"})}html10n.macros.plural=function(r,s,o){var e,u=parseFloat(s);if(!isNaN(u)){this._pluralRules||(this._pluralRules=getPluralRules(html10n.language));var f=this._pluralRules(u);return u===0&&"zero"in o?e=o.zero:u==1&&"one"in o?e=o.one:u==2&&"two"in o?e=o.two:f in o&&(e=o[f]),e}},html10n.localize=function(r){var s=this;typeof r=="string"&&(r=[r]);var o=0;r.forEach(function(e){e&&(r[o++]=e,~e.indexOf("-")&&(r[o++]=e.substr(0,e.indexOf("-"))))}),this.build(r,function(e,u){html10n.translations=u,html10n.translateElement(u),s.trigger("localized")})},html10n.translateElement=function(r,s){s=s||document.documentElement;for(var o=s?getTranslatableChildren(s):document.childNodes,e=0,u=o.length;e<u;e++)this.translateNode(r,o[e]);this.translateNode(r,s)};function asyncForEach(r,s,o){var e=0,u=r.length;s(r[e],e,function f(t){if(t&&console.error(t),e++,e<u)return s(r[e],e,f);o()})}function getTranslatableChildren(r){if(!document.querySelectorAll){if(!r)return[];for(var s=r.getElementsByTagName("*"),o=[],e=0,u=s.length;e<u;e++)s[e].getAttribute("data-l10n-id")&&o.push(s[e]);return o}return r.querySelectorAll("*[data-l10n-id]")}html10n.get=function(r,s){var o=html10n.translations;if(!o)return console.warn("No translations available (yet)");if(!o[r])return console.warn("Could not find string "+r);var e=o[r];return e=substMacros(r,e,s),e=substArguments(e,s),e};function substArguments(r,s){for(var o=/\{\{\s*([a-zA-Z\.]+)\s*\}\}/,e,u=html10n.translations;e=o.exec(r);){if(!e||e.length<2)return r;var f=e[1],t="";if(s&&f in s)t=s[f];else if(u&&f in u)t=u[f];else return console.warn("Could not find argument {{"+f+"}}"),r;r=r.substring(0,e.index)+t+r.substr(e.index+e[0].length)}return r}function substMacros(r,s,o){for(var e=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)((\s*([a-zA-Z]+)\: ?([ a-zA-Z{}]+),?)+)*\s*\]\}/,u;u=e.exec(s);){var f=u[1],t=u[2],a=u[3],l={};if(f in html10n.macros){a&&a.match(/(?=\s*)([a-zA-Z]+)\: ?([ a-zA-Z{}]+)(?=,?)/g).forEach(function(g){var d=g.split(":"),m=d[0],p=d[1].trim();l[m]=p});var h;o&&t in o?h=o[t]:t in html10n.translations&&(h=translations[t]);var c=html10n.macros[f];s=s.substr(0,u.index)+c(r,h,l)+s.substr(u.index+u[0].length)}}return s}return html10n.translateNode=function(translations,node){var str={};if(str.id=node.getAttribute("data-l10n-id"),!!str.id){if(!translations[str.id])return console.warn("Couldn't find translation key "+str.id);if(window.JSON)str.args=JSON.parse(node.getAttribute("data-l10n-args"));else try{str.args=eval(node.getAttribute("data-l10n-args"))}catch(r){console.warn("Couldn't parse args for "+str.id)}str.str=html10n.get(str.id,str.args);var prop,index=str.id.lastIndexOf("."),attrList={title:1,innerHTML:1,alt:1,textContent:1,value:1,placeholder:1};if(index>0&&str.id.substr(index+1)in attrList?prop=str.id.substr(index+1):prop=document.body.textContent?"textContent":"innerText",node.children.length===0||prop!="textContent")node[prop]=str.str,node.setAttribute("aria-label",str.str);else{for(var children=node.childNodes,found=!1,i=0,n=children.length;i<n;i++)children[i].nodeType===3&&/\S/.test(children[i].textContent)&&(found?children[i].nodeValue="":(children[i].nodeValue=str.str,found=!0));found||console.warn("Unexpected error: could not translate element content for key "+str.id,node)}}},html10n.build=function(r,s){var o=this,e={};asyncForEach(r,function(u,f,t){if(!u)return t();o.loader.load(u,t)},function(){var u;r.reverse();for(var f=0,t=r.length;f<t;f++)if(u=r[f],!!u){if(!(u in o.loader.langs)){~u.indexOf("-")&&(u=u.split("-")[0]);for(var a in o.loader.langs)if(u!=a&&a.indexOf(u)===0){u=a;break}if(u!=a)continue}for(var l in o.loader.langs[u])e[l]=o.loader.langs[u][l];o.language=u}s(null,e)})},html10n.getLanguage=function(){return this.language},html10n.getDirection=function(){if(this.language){var r=this.language.indexOf("-")==-1?this.language:this.language.substr(0,this.language.indexOf("-"));return html10n.rtl.indexOf(r)==-1?"ltr":"rtl"}},html10n.index=function(){for(var r=document.getElementsByTagName("link"),s=[],o=0,e=r.length;o<e;o++)r[o].type=="application/l10n+json"&&s.push(r[o].href);this.loader=new Loader(s),this.trigger("indexed")},document.addEventListener?document.addEventListener("DOMContentLoaded",function(){html10n.index()},!1):window.attachEvent&&window.attachEvent("onload",function(){html10n.index()},!1),window._===undefined&&(window._=html10n.get),html10n}(window,document);
