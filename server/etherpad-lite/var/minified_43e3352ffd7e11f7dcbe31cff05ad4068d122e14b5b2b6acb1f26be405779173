require.define({"ep_headings2/static/js/index.js": {"(module ep_headings2/static/js/index.js)": function (require, exports, module) {"use strict";const cssFiles=["ep_headings2/static/css/editor.css"],tags=["h1","h2","h3","h4","code"];exports.aceRegisterBlockElements=()=>tags,exports.postAceInit=(a,t)=>{const s=$("#heading-selection");s.on("change",function(){const i=$(this).val(),e=parseInt(i,10);isNaN(e)||(t.ace.callWithAce(n=>{n.ace_doInsertHeading(e)},"insertheading",!0),s.val("dummy"))})};const range=(a,t)=>Array.from(Array(Math.abs(t-a)+1),(s,i)=>a+i);exports.aceEditEvent=(a,t)=>{const s=t.callstack;if(s.type!=="handleClick"&&s.type!=="handleKeyEvent"&&!s.docTextChanged||s.type==="setBaseText"||s.type==="setup")return!1;setTimeout(()=>{const i=t.documentAttributeManager,e=t.rep,n={};$("#heading-selection").val("dummy").niceSelect("update");const r=e.selStart[0],d=Math.max(r,e.selEnd[0]-(e.selEnd[1]===0?1:0));let c=0;range(r,d).forEach(h=>{c++;const o=i.getAttributeOnLine(h,"heading");n[o]?n[o].count++:(n[o]={},n[o].count=1)}),$.each(n,(h,o)=>{if(o.count===c){const u=tags.indexOf(h);$("#heading-selection").val(u).niceSelect("update")}})},250)},exports.aceAttribsToClasses=(a,t)=>{if(t.key==="heading")return[`heading:${t.value}`]},exports.aceDomLineProcessLineAttributes=(a,t)=>{const s=t.cls,i=/(?:^| )heading:([A-Za-z0-9]*)/.exec(s);if(i){let e=i[1];if((e==="h5"||e==="h6")&&(e="h4"),tags.indexOf(e)>=0)return[{preHtml:`<${e}>`,postHtml:`</${e}>`,processedMarker:!0}]}return[]},exports.aceInitialized=(a,t)=>{const s=t.editorInfo;s.ace_doInsertHeading=i=>{const{documentAttributeManager:e,rep:n}=t;if(!(n.selStart&&n.selEnd)||i>=0&&tags[i]===void 0)return;const r=n.selStart[0],d=Math.max(r,n.selEnd[0]-(n.selEnd[1]===0?1:0));range(r,d).forEach(c=>{i>=0?e.setAttributeOnLine(c,"heading",tags[i]):e.removeAttributeOnLine(c,"heading")})}},exports.aceEditorCSS=()=>cssFiles;
}}["(module ep_headings2/static/js/index.js)"],
});
