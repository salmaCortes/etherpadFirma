require.define({"ep_font_color/static/js/index.js": {"(module ep_font_color/static/js/index.js)": function (require, exports, module) {"use strict";const colors=["black","red","green","blue","yellow","orange"],postAceInit=(n,t)=>{const o=$(".color-selection, #color-selection");o.on("change",function(){const r=$(this).val(),e=parseInt(r,10);isNaN(e)||(t.ace.callWithAce(c=>{c.ace_doInsertColors(e)},"insertColor",!0),o.val("dummy"))}),$(".font_color").hover(()=>{$(".submenu > .color-selection").attr("size",6),$(".submenu > #color-selection").attr("size",6)}),$(".font-color-icon").click(()=>{$("#font-color").toggle()})},aceAttribsToClasses=(n,t)=>{if(t.key.indexOf("color:")!==-1)return[`color:${/(?:^| )color:([A-Za-z0-9]*)/.exec(t.key)[1]}`];if(t.key==="color")return[`color:${t.value}`]};exports.aceCreateDomLine=(n,t)=>{const o=t.cls,r=/(?:^| )color:([A-Za-z0-9]*)/.exec(o);let e;return r&&(e=colors.indexOf(r[1])),e!==void 0&&e>=0?[{extraOpenTags:"",extraCloseTags:"",cls:o}]:[]};const doInsertColors=function(n){const t=this.rep,o=this.documentAttributeManager;if(!(t.selStart&&t.selEnd)||n>=0&&colors[n]===void 0)return;let r=["color",""];n>=0&&(r=["color",colors[n]]),o.setAttributesOnRange(t.selStart,t.selEnd,[r])},aceInitialized=(n,t)=>{const o=t.editorInfo;o.ace_doInsertColors=doInsertColors.bind(t)},postToolbarInit=(n,t)=>{t.toolbar.registerCommand("fontColor",(r,e,c)=>{$(c.$el).after($("#font-color")),$("#font-color").toggle()})},aceEditEvent=(n,t)=>{const o=t.callstack,r=t.documentAttributeManager,e=t.rep;["handleClick","handleKeyEvent"].indexOf(o.type)===-1&&!o.docTextChanged||o.type==="setBaseText"||o.type==="setup"||setTimeout(()=>{const l=$(".color-selection, #color-selection");if(l.val("dummy"),l.niceSelect("update"),e.selStart[1]===0||e.selStart[1]===1&&e.alltext[0]==="*")return;const u=r.getAttributesOnPosition(e.selStart[0],e.selStart[1]),f=r.getAttributesOnPosition(e.selEnd[0],e.selEnd[1]),[i]=u.filter(s=>s[0]==="color"),[a]=f.filter(s=>s[0]==="color");!i&&!a||($.each(colors,(s,d)=>{(i&&i[1]===d&&(!a||a[1]===d)||!i&&a[1]===d)&&l.val(s)}),l.niceSelect("update"))},250)};exports.postToolbarInit=postToolbarInit,exports.aceInitialized=aceInitialized,exports.postAceInit=postAceInit,exports.aceAttribsToClasses=aceAttribsToClasses,exports.aceEditEvent=aceEditEvent,exports.aceEditorCSS=()=>["ep_font_color/static/css/color.css"];
}}["(module ep_font_color/static/js/index.js)"],
});
